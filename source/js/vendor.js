'use strict';

  var phones = document.querySelectorAll('input[type=tel]');
  var osVersion = detectIE();

  // svgxuse

  /*!
  * @copyright Copyright (c) 2017 IcoMoon.io
  * @license   Licensed under MIT license
  *            See https://github.com/Keyamoon/svgxuse
  * @version   1.2.6
  */
  (function(){if("undefined"!==typeof window&&window.addEventListener){var e=Object.create(null),l,d=function(){clearTimeout(l);l=setTimeout(n,100)},m=function(){},t=function(){window.addEventListener("resize",d,!1);window.addEventListener("orientationchange",d,!1);if(window.MutationObserver){var k=new MutationObserver(d);k.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0});m=function(){try{k.disconnect(),window.removeEventListener("resize",d,!1),window.removeEventListener("orientationchange",
  d,!1)}catch(v){}}}else document.documentElement.addEventListener("DOMSubtreeModified",d,!1),m=function(){document.documentElement.removeEventListener("DOMSubtreeModified",d,!1);window.removeEventListener("resize",d,!1);window.removeEventListener("orientationchange",d,!1)}},u=function(k){function e(a){if(void 0!==a.protocol)var c=a;else c=document.createElement("a"),c.href=a;return c.protocol.replace(/:/g,"")+c.host}if(window.XMLHttpRequest){var d=new XMLHttpRequest;var m=e(location);k=e(k);d=void 0===
  d.withCredentials&&""!==k&&k!==m?XDomainRequest||void 0:XMLHttpRequest}return d};var n=function(){function d(){--q;0===q&&(m(),t())}function l(a){return function(){!0!==e[a.base]&&(a.useEl.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+a.hash),a.useEl.hasAttribute("href")&&a.useEl.setAttribute("href","#"+a.hash))}}function p(a){return function(){var c=document.body,b=document.createElement("x");a.onload=null;b.innerHTML=a.responseText;if(b=b.getElementsByTagName("svg")[0])b.setAttribute("aria-hidden",
  "true"),b.style.position="absolute",b.style.width=0,b.style.height=0,b.style.overflow="hidden",c.insertBefore(b,c.firstChild);d()}}function n(a){return function(){a.onerror=null;a.ontimeout=null;d()}}var a,c,q=0;m();var f=document.getElementsByTagName("use");for(c=0;c<f.length;c+=1){try{var g=f[c].getBoundingClientRect()}catch(w){g=!1}var h=(a=f[c].getAttribute("href")||f[c].getAttributeNS("http://www.w3.org/1999/xlink","href")||f[c].getAttribute("xlink:href"))&&a.split?a.split("#"):["",""];var b=
  h[0];h=h[1];var r=g&&0===g.left&&0===g.right&&0===g.top&&0===g.bottom;g&&0===g.width&&0===g.height&&!r?(f[c].hasAttribute("href")&&f[c].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),b.length&&(a=e[b],!0!==a&&setTimeout(l({useEl:f[c],base:b,hash:h}),0),void 0===a&&(h=u(b),void 0!==h&&(a=new h,e[b]=a,a.onload=p(a),a.onerror=n(a),a.ontimeout=n(a),a.open("GET",b),a.send(),q+=1)))):r?b.length&&e[b]&&setTimeout(l({useEl:f[c],base:b,hash:h}),0):void 0===e[b]?e[b]=!0:e[b].onload&&(e[b].abort(),
  delete e[b].onload,e[b]=!0)}f="";q+=1;d()};var p=function(){window.removeEventListener("load",p,!1);l=setTimeout(n,0)};"complete"!==document.readyState?window.addEventListener("load",p,!1):p()}})();

  // siema slider

  !function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Siema",[],t):"object"==typeof exports?exports.Siema=t():e.Siema=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),l=function(){function e(t){var i=this;if(r(this,e),this.config=e.mergeSettings(t),this.selector="string"==typeof this.config.selector?document.querySelector(this.config.selector):this.config.selector,null===this.selector)throw new Error("Something wrong with your selector 😭");this.resolveSlidesNumber(),this.selectorWidth=this.selector.offsetWidth,this.innerElements=[].slice.call(this.selector.children),this.currentSlide=this.config.loop?this.config.startIndex%this.innerElements.length:Math.max(0,Math.min(this.config.startIndex,this.innerElements.length-this.perPage)),this.transformProperty=e.webkitOrNot(),["resizeHandler","touchstartHandler","touchendHandler","touchmoveHandler","mousedownHandler","mouseupHandler","mouseleaveHandler","mousemoveHandler","clickHandler"].forEach(function(e){i[e]=i[e].bind(i)}),this.init()}return s(e,[{key:"attachEvents",value:function(){window.addEventListener("resize",this.resizeHandler),this.config.draggable&&(this.pointerDown=!1,this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:!1},this.selector.addEventListener("touchstart",this.touchstartHandler),this.selector.addEventListener("touchend",this.touchendHandler),this.selector.addEventListener("touchmove",this.touchmoveHandler),this.selector.addEventListener("mousedown",this.mousedownHandler),this.selector.addEventListener("mouseup",this.mouseupHandler),this.selector.addEventListener("mouseleave",this.mouseleaveHandler),this.selector.addEventListener("mousemove",this.mousemoveHandler),this.selector.addEventListener("click",this.clickHandler))}},{key:"detachEvents",value:function(){window.removeEventListener("resize",this.resizeHandler),this.selector.removeEventListener("touchstart",this.touchstartHandler),this.selector.removeEventListener("touchend",this.touchendHandler),this.selector.removeEventListener("touchmove",this.touchmoveHandler),this.selector.removeEventListener("mousedown",this.mousedownHandler),this.selector.removeEventListener("mouseup",this.mouseupHandler),this.selector.removeEventListener("mouseleave",this.mouseleaveHandler),this.selector.removeEventListener("mousemove",this.mousemoveHandler),this.selector.removeEventListener("click",this.clickHandler)}},{key:"init",value:function(){this.attachEvents(),this.selector.style.overflow="hidden",this.selector.style.direction=this.config.rtl?"rtl":"ltr",this.buildSliderFrame(),this.config.onInit.call(this)}},{key:"buildSliderFrame",value:function(){var e=this.selectorWidth/this.perPage,t=this.config.loop?this.innerElements.length+2*this.perPage:this.innerElements.length;this.sliderFrame=document.createElement("div"),this.sliderFrame.style.width=e*t+"px",this.enableTransition(),this.config.draggable&&(this.selector.style.cursor="-webkit-grab");var i=document.createDocumentFragment();if(this.config.loop)for(var r=this.innerElements.length-this.perPage;r<this.innerElements.length;r++){var n=this.buildSliderFrameItem(this.innerElements[r].cloneNode(!0));i.appendChild(n)}for(var s=0;s<this.innerElements.length;s++){var l=this.buildSliderFrameItem(this.innerElements[s]);i.appendChild(l)}if(this.config.loop)for(var o=0;o<this.perPage;o++){var a=this.buildSliderFrameItem(this.innerElements[o].cloneNode(!0));i.appendChild(a)}this.sliderFrame.appendChild(i),this.selector.innerHTML="",this.selector.appendChild(this.sliderFrame),this.slideToCurrent()}},{key:"buildSliderFrameItem",value:function(e){var t=document.createElement("div");return t.style.cssFloat=this.config.rtl?"right":"left",t.style.float=this.config.rtl?"right":"left",t.style.width=(this.config.loop?100/(this.innerElements.length+2*this.perPage):100/this.innerElements.length)+"%",t.appendChild(e),t}},{key:"resolveSlidesNumber",value:function(){if("number"==typeof this.config.perPage)this.perPage=this.config.perPage;else if("object"===n(this.config.perPage)){this.perPage=1;for(var e in this.config.perPage)window.innerWidth>=e&&(this.perPage=this.config.perPage[e])}}},{key:"prev",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var i=this.currentSlide;if(this.config.loop){if(this.currentSlide-e<0){this.disableTransition();var r=this.currentSlide+this.innerElements.length,n=this.perPage,s=r+n,l=(this.config.rtl?1:-1)*s*(this.selectorWidth/this.perPage),o=this.config.draggable?this.drag.endX-this.drag.startX:0;this.sliderFrame.style[this.transformProperty]="translate3d("+(l+o)+"px, 0, 0)",this.currentSlide=r-e}else this.currentSlide=this.currentSlide-e}else this.currentSlide=Math.max(this.currentSlide-e,0);i!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),t&&t.call(this))}}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];if(!(this.innerElements.length<=this.perPage)){var i=this.currentSlide;if(this.config.loop){if(this.currentSlide+e>this.innerElements.length-this.perPage){this.disableTransition();var r=this.currentSlide-this.innerElements.length,n=this.perPage,s=r+n,l=(this.config.rtl?1:-1)*s*(this.selectorWidth/this.perPage),o=this.config.draggable?this.drag.endX-this.drag.startX:0;this.sliderFrame.style[this.transformProperty]="translate3d("+(l+o)+"px, 0, 0)",this.currentSlide=r+e}else this.currentSlide=this.currentSlide+e}else this.currentSlide=Math.min(this.currentSlide+e,this.innerElements.length-this.perPage);i!==this.currentSlide&&(this.slideToCurrent(this.config.loop),this.config.onChange.call(this),t&&t.call(this))}}},{key:"disableTransition",value:function(){this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing}},{key:"enableTransition",value:function(){this.sliderFrame.style.webkitTransition="all "+this.config.duration+"ms "+this.config.easing,this.sliderFrame.style.transition="all "+this.config.duration+"ms "+this.config.easing}},{key:"goTo",value:function(e,t){if(!(this.innerElements.length<=this.perPage)){var i=this.currentSlide;this.currentSlide=this.config.loop?e%this.innerElements.length:Math.min(Math.max(e,0),this.innerElements.length-this.perPage),i!==this.currentSlide&&(this.slideToCurrent(),this.config.onChange.call(this),t&&t.call(this))}}},{key:"slideToCurrent",value:function(e){var t=this,i=this.config.loop?this.currentSlide+this.perPage:this.currentSlide,r=(this.config.rtl?1:-1)*i*(this.selectorWidth/this.perPage);e?requestAnimationFrame(function(){requestAnimationFrame(function(){t.enableTransition(),t.sliderFrame.style[t.transformProperty]="translate3d("+r+"px, 0, 0)"})}):this.sliderFrame.style[this.transformProperty]="translate3d("+r+"px, 0, 0)"}},{key:"updateAfterDrag",value:function(){var e=(this.config.rtl?-1:1)*(this.drag.endX-this.drag.startX),t=Math.abs(e),i=this.config.multipleDrag?Math.ceil(t/(this.selectorWidth/this.perPage)):1,r=e>0&&this.currentSlide-i<0,n=e<0&&this.currentSlide+i>this.innerElements.length-this.perPage;e>0&&t>this.config.threshold&&this.innerElements.length>this.perPage?this.prev(i):e<0&&t>this.config.threshold&&this.innerElements.length>this.perPage&&this.next(i),this.slideToCurrent(r||n)}},{key:"resizeHandler",value:function(){this.resolveSlidesNumber(),this.currentSlide+this.perPage>this.innerElements.length&&(this.currentSlide=this.innerElements.length<=this.perPage?0:this.innerElements.length-this.perPage),this.selectorWidth=this.selector.offsetWidth,this.buildSliderFrame()}},{key:"clearDrag",value:function(){this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:this.drag.preventClick}}},{key:"touchstartHandler",value:function(e){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)||(e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.touches[0].pageX,this.drag.startY=e.touches[0].pageY)}},{key:"touchendHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"touchmoveHandler",value:function(e){if(e.stopPropagation(),null===this.drag.letItGo&&(this.drag.letItGo=Math.abs(this.drag.startY-e.touches[0].pageY)<Math.abs(this.drag.startX-e.touches[0].pageX)),this.pointerDown&&this.drag.letItGo){e.preventDefault(),this.drag.endX=e.touches[0].pageX,this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing;var t=this.config.loop?this.currentSlide+this.perPage:this.currentSlide,i=t*(this.selectorWidth/this.perPage),r=this.drag.endX-this.drag.startX,n=this.config.rtl?i+r:i-r;this.sliderFrame.style[this.transformProperty]="translate3d("+(this.config.rtl?1:-1)*n+"px, 0, 0)"}}},{key:"mousedownHandler",value:function(e){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.target.nodeName)||(e.preventDefault(),e.stopPropagation(),this.pointerDown=!0,this.drag.startX=e.pageX)}},{key:"mouseupHandler",value:function(e){e.stopPropagation(),this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()}},{key:"mousemoveHandler",value:function(e){if(e.preventDefault(),this.pointerDown){"A"===e.target.nodeName&&(this.drag.preventClick=!0),this.drag.endX=e.pageX,this.selector.style.cursor="-webkit-grabbing",this.sliderFrame.style.webkitTransition="all 0ms "+this.config.easing,this.sliderFrame.style.transition="all 0ms "+this.config.easing;var t=this.config.loop?this.currentSlide+this.perPage:this.currentSlide,i=t*(this.selectorWidth/this.perPage),r=this.drag.endX-this.drag.startX,n=this.config.rtl?i+r:i-r;this.sliderFrame.style[this.transformProperty]="translate3d("+(this.config.rtl?1:-1)*n+"px, 0, 0)"}}},{key:"mouseleaveHandler",value:function(e){this.pointerDown&&(this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.drag.endX=e.pageX,this.drag.preventClick=!1,this.enableTransition(),this.updateAfterDrag(),this.clearDrag())}},{key:"clickHandler",value:function(e){this.drag.preventClick&&e.preventDefault(),this.drag.preventClick=!1}},{key:"remove",value:function(e,t){if(e<0||e>=this.innerElements.length)throw new Error("Item to remove doesn't exist 😭");var i=e<this.currentSlide,r=this.currentSlide+this.perPage-1===e;(i||r)&&this.currentSlide--,this.innerElements.splice(e,1),this.buildSliderFrame(),t&&t.call(this)}},{key:"insert",value:function(e,t,i){if(t<0||t>this.innerElements.length+1)throw new Error("Unable to inset it at this index 😭");if(-1!==this.innerElements.indexOf(e))throw new Error("The same item in a carousel? Really? Nope 😭");var r=t<=this.currentSlide>0&&this.innerElements.length;this.currentSlide=r?this.currentSlide+1:this.currentSlide,this.innerElements.splice(t,0,e),this.buildSliderFrame(),i&&i.call(this)}},{key:"prepend",value:function(e,t){this.insert(e,0),t&&t.call(this)}},{key:"append",value:function(e,t){this.insert(e,this.innerElements.length+1),t&&t.call(this)}},{key:"destroy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];if(this.detachEvents(),this.selector.style.cursor="auto",e){for(var i=document.createDocumentFragment(),r=0;r<this.innerElements.length;r++)i.appendChild(this.innerElements[r]);this.selector.innerHTML="",this.selector.appendChild(i),this.selector.removeAttribute("style")}t&&t.call(this)}}],[{key:"mergeSettings",value:function(e){var t={selector:".siema",duration:200,easing:"ease-out",perPage:1,startIndex:0,draggable:!0,multipleDrag:!0,threshold:20,loop:!1,rtl:!1,onInit:function(){},onChange:function(){}},i=e;for(var r in i)t[r]=i[r];return t}},{key:"webkitOrNot",value:function(){return"string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform"}}]),e}();t.default=l,e.exports=t.default}])});

  // zenscroll
  !function (t, e) { "function" == typeof define && define.amd ? define([], e()) : "object" == typeof module && module.exports ? module.exports = e() : function n() { document && document.body ? t.zenscroll = e() : setTimeout(n, 9) }() }(this, function () { "use strict"; var t = function (t) { return t && "getComputedStyle" in window && "smooth" === window.getComputedStyle(t)["scroll-behavior"] }; if ("undefined" == typeof window || !("document" in window)) return {}; var e = function (e, n, o) { n = n || 999, o || 0 === o || (o = 9); var i, r = function (t) { i = t }, u = function () { clearTimeout(i), r(0) }, c = function (t) { return Math.max(0, e.getTopOf(t) - o) }, a = function (o, i, c) { if (u(), 0 === i || i && i < 0 || t(e.body)) e.toY(o), c && c(); else { var a = e.getY(), f = Math.max(0, o) - a, s = (new Date).getTime(); i = i || Math.min(Math.abs(f), n), function t() { r(setTimeout(function () { var n = Math.min(1, ((new Date).getTime() - s) / i), o = Math.max(0, Math.floor(a + f * (n < .5 ? 2 * n * n : n * (4 - 2 * n) - 1))); e.toY(o), n < 1 && e.getHeight() + o < e.body.scrollHeight ? t() : (setTimeout(u, 99), c && c()) }, 9)) }() } }, f = function (t, e, n) { a(c(t), e, n) }, s = function (t, n, i) { var r = t.getBoundingClientRect().height, u = e.getTopOf(t) + r, s = e.getHeight(), l = e.getY(), d = l + s; c(t) < l || r + o > s ? f(t, n, i) : u + o > d ? a(u - s + o, n, i) : i && i() }, l = function (t, n, o, i) { a(Math.max(0, e.getTopOf(t) - e.getHeight() / 2 + (o || t.getBoundingClientRect().height / 2)), n, i) }; return { setup: function (t, e) { return (0 === t || t) && (n = t), (0 === e || e) && (o = e), { defaultDuration: n, edgeOffset: o } }, to: f, toY: a, intoView: s, center: l, stop: u, moving: function () { return !!i }, getY: e.getY, getTopOf: e.getTopOf } }, n = document.documentElement, o = function () { return window.scrollY || n.scrollTop }, i = e({ body: document.scrollingElement || document.body, toY: function (t) { window.scrollTo(0, t) }, getY: o, getHeight: function () { return window.innerHeight || n.clientHeight }, getTopOf: function (t) { return t.getBoundingClientRect().top + o() - n.offsetTop } }); if (i.createScroller = function (t, o, i) { return e({ body: t, toY: function (e) { t.scrollTop = e }, getY: function () { return t.scrollTop }, getHeight: function () { return Math.min(t.clientHeight, window.innerHeight || n.clientHeight) }, getTopOf: function (t) { return t.offsetTop } }, o, i) }, "addEventListener" in window && !window.noZensmooth && !t(document.body)) { var r = "history" in window && "pushState" in history, u = r && "scrollRestoration" in history; u && (history.scrollRestoration = "auto"), window.addEventListener("load", function () { u && (setTimeout(function () { history.scrollRestoration = "manual" }, 9), window.addEventListener("popstate", function (t) { t.state && "zenscrollY" in t.state && i.toY(t.state.zenscrollY) }, !1)), window.location.hash && setTimeout(function () { var t = i.setup().edgeOffset; if (t) { var e = document.getElementById(window.location.href.split("#")[1]); if (e) { var n = Math.max(0, i.getTopOf(e) - t), o = i.getY() - n; 0 <= o && o < 9 && window.scrollTo(0, n) } } }, 9) }, !1); var c = new RegExp("(^|\\s)noZensmooth(\\s|$)"); window.addEventListener("click", function (t) { for (var e = t.target; e && "A" !== e.tagName;)e = e.parentNode; if (!(!e || 1 !== t.which || t.shiftKey || t.metaKey || t.ctrlKey || t.altKey)) { if (u) { var n = history.state && "object" == typeof history.state ? history.state : {}; n.zenscrollY = i.getY(); try { history.replaceState(n, "") } catch (t) { } } var o = e.getAttribute("href") || ""; if (0 === o.indexOf("#") && !c.test(e.className)) { var a = 0, f = document.getElementById(o.substring(1)); if ("#" !== o) { if (!f) return; a = i.getTopOf(f) } t.preventDefault(); var s = function () { window.location = o }, l = i.setup().edgeOffset; l && (a = Math.max(0, a - l), r && (s = function () { history.pushState({}, "", o) })), i.toY(a, null, s) } } }, !1) } return i });

  // numbered

  (function (root, factory) { if (typeof define === 'function' && define.amd) { define([], factory) } else if (typeof exports === 'object') { module.exports = factory() } else { root.Numbered = factory() } }(this, function () {
    'use strict'; var defaults = { mask: '+7 (###) ### - ## - ##', numbered: '#', empty: '_', placeholder: !1 }; var Numbered = function (target, params) {
      var self = this; if (typeof target !== 'object') { self.inputs = document.querySelectorAll(target) } else if (typeof target.length !== 'undefined') { self.inputs = target } else { self.inputs = [target] }
      self.inputs = Array.prototype.slice.call(self.inputs); params = params || (typeof self.inputs[0].numbered !== 'undefined' ? self.inputs[0].numbered.params : {}); for (var def in defaults) { if (typeof params[def] === 'undefined') { params[def] = defaults[def] } }
      self.params = params; self.config = {}; self.config.placeholder = self.params.mask.replace(new RegExp(self.params.numbered, 'g'), self.params.empty); self.config.numbered = self.params.numbered.replace(/([()[\]\.^\#$|?+-])/g, '\\\\$1'); self.config.numberedCol = self.params.mask.split(self.params.numbered).length - 1; self.config.empty = self.params.empty.replace(/([()[\]\.^\#$|?+-])/g, '\\$1'); self.config.mask = self.params.mask.replace(/([()[\]\.^\#$|?+-])/g, '\\$1').replace(new RegExp(self.config.numbered, 'g'), '(\\d)'); self.config.maskNums = self.params.mask.replace(/[^\d]/gi, '').split(''); self.config.maskNumsCol = self.config.maskNums.length; self.config.regexp = new RegExp('^' + self.config.mask + '$'); self.config.events = ['input', 'change', 'click', 'focusin', 'blur']; self._eventFire = function (el, etype) { if (el.fireEvent) { el.fireEvent('on' + etype) } else { var evObj = document.createEvent('Events'); evObj.initEvent(etype, !0, !1); el.dispatchEvent(evObj) } }; self._getSelectionRange = function (oElm) {
        var r = { text: '', start: 0, end: 0, length: 0 }; if (oElm.setSelectionRange) { r.start = oElm.selectionStart; r.end = oElm.selectionEnd; r.text = (r.start != r.end) ? oElm.value.substring(r.start, r.end) : '' } else if (document.selection) {
          var oR; if (oElm.tagName && oElm.tagName === 'TEXTAREA') { var oS = document.selection.createRange().duplicate(); oR = oElm.createTextRange(); var sB = oS.getBookmark(); oR.moveToBookmark(sB) } else { oR = document.selection.createRange().duplicate() }
          r.text = oR.text; for (; oR.moveStart('character', -1) !== 0; r.start++); r.end = r.text.length + r.start
        }
        r.length = r.text.length; return r
      }; self.magic = function (event) {
        var numbered = this.numbered; var value = numbered.input.value || ' '; var valueFormatted = value.replace(/[^\d]/gi, '').split('').join(''); var valueFormattedArr = valueFormatted.split(''); var valueFormattedCol = valueFormattedArr.length; var valueFormattedIndex = 0; var positionStart = -1; var positionEnd = -1; var positionOld = self._getSelectionRange(numbered.input); var maskNumsIndex = 0; var valueFormattedRes = []; var maskSplit = numbered.params.mask.split(''); for (var key in maskSplit) {
          var val = maskSplit[key]; key = parseInt(key); if (maskNumsIndex <= numbered.config.maskNumsCol && val == numbered.config.maskNums[maskNumsIndex] && val == valueFormattedArr[valueFormattedIndex]) { valueFormattedRes.push(val); maskNumsIndex++; valueFormattedIndex++ } else if (val == numbered.params.numbered) {
            if (positionStart < 0) { positionStart = key }
            if (valueFormattedIndex < valueFormattedCol) { valueFormattedRes.push(valueFormattedArr[valueFormattedIndex]); valueFormattedIndex++; positionEnd = key } else { valueFormattedRes.push(numbered.params.empty) }
          } else { valueFormattedRes.push(val) }
        }
        value = valueFormattedRes.join(''); var position = (positionEnd >= 0 ? positionEnd + 1 : positionStart); if (event.type !== 'click') { if ((event.type === 'blur' || event.type === 'change') && valueFormattedIndex - maskNumsIndex === 0 && !numbered.params.placeholder) { this.value = '' } else if (numbered.oldValue !== numbered.input.value || event.type === 'focusin') { this.value = value } }
        if (event.type !== 'change' && event.type !== 'blur' && (event.type !== 'click' || (numbered.lastEvent === 'focusin' && event.type === 'click'))) { if (numbered.input.setSelectionRange) { numbered.input.setSelectionRange(position, position) } else if (numbered.input.createTextRange) { var range = numbered.input.createTextRange(); range.collapse(!0); range.moveEnd('character', position); range.moveStart('character', position); range.select() } }
        numbered.oldValue = this.value; numbered.lastEvent = event.type; return event.target
      }; for (var index in self.inputs) {
        var $input = self.inputs[index]; var is = !1; if (typeof $input.numbered === 'оbject' || typeof $input.numbered !== 'undefined') { is = !0 }
        $input.numbered = { input: self.inputs[index], config: self.config, params: self.params, oldValue: !1 }; if (!is) {
          for (var key in self.config.events) { $input.addEventListener(self.config.events[key], self.magic) }
          self._eventFire($input, 'blur')
        }
        self.inputs[index] = $input
      }
      self.destroy = function () {
        var self = this; for (var index in self.inputs) { var $input = self.inputs[index]; for (var key in self.config.events) { $input.removeEventListener(self.config.events[key], self.magic); $input.numbered = null } }
        return null
      }; self.validate = function (i) {
        var input = i || !1; var self = this; var res = self.inputs.length > 1 ? [] : !1; var inputs = input !== !1 ? [input] : self.inputs; for (var index in inputs) {
          var $input = inputs[index]; var validate; if (inputs[index].numbered.config.regexp.test(inputs[index].numbered.input.value)) { validate = 1 } else if (inputs[index].numbered.input.value === '' || inputs[index].numbered.input.value === inputs[index].numbered.config.placeholder) { validate = 0 } else { validate = -1 }
          if (inputs.length > 1) { res.push(validate) } else { res = validate }
        }
        return res
      }; self.reInit = function () {
        var self = this; var res = self.inputs.length > 1 ? [] : !1; for (var index in self.inputs) { var $input = self.inputs[index]; self._eventFire($input, 'blur') }
        return res
      }; self.setVal = function (value) {
        var self = this; var res = self.inputs.length > 1 ? [] : !1; for (var index in self.inputs) { var $input = self.inputs[index]; $input.value = value; self._eventFire($input, 'blur') }
        return res
      }; self.getVal = function (r) {
        var raw = r || !1; var values = []; for (var index in this.inputs) {
          var $input = this.inputs[index]; var value = $input.value; if (raw) { if (this.validate($input) > 0) { var arr = value.match(this.config.regexp); value = arr.slice(1, arr.length).join('') } else { value = $input.value.replace(/[^\d]/gi, '') } }
          values.push(value)
        }
        return values.length > 1 ? values : values[0]
      }; return self
    }; return Numbered
  }))

  // Функция определения os

  function detectIE() {
    var ua = window.navigator.userAgent;

    // Test values; Uncomment to check result …

    // IE 10
    // ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';

    // IE 11
    // ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';

    // Edge 12 (Spartan)
    // ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';

    // Edge 13
    // ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';

    var msie = ua.indexOf('MSIE ');
    if (msie > 0) {
      // IE 10 or older => return version number
      return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);
    }

    var trident = ua.indexOf('Trident/');
    if (trident > 0) {
      // IE 11 => return version number
      var rv = ua.indexOf('rv:');
      return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);
    }

    var edge = ua.indexOf('Edge/');
    if (edge > 0) {
      // Edge (IE 12+) => return version number
      return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);
    }

    // other browser
    return false;
  }

  if (phones) {
    new Numbered(phones);
  }


